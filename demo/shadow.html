<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Title</title>
    <style>
        button{
            background-color: transparent;
            border: 1px solid #efefe2;
            border-radius: 5px;
            color: white;
            padding: 0.2rem 0.2rem;
        }
    </style>
</head>
<body>
<h2>测试自定义card</h2>
<div id="content"></div>

<hong-card>
    <h5>shadow dom自定义标签</h5>
    <button id="outer">外部按钮</button>
</hong-card>

</body>
<script>
    // 自定义card标签
    class Card extends HTMLElement{
        constructor() {
            super()
            let shadow = this.attachShadow({mode: 'open'})

            let style = document.createElement('style')
            style.textContent = `div {
                color: white;
                padding: 0.3rem 0.3rem;
            }
            span{
                color: red;
            }`

            let div = document.createElement('div')
            div.style.backgroundColor = '#10a568'
            div.innerText = '今天周五啦！'

            let name = document.createElement('span')
            name.innerText = 'susan'

            let btn = document.createElement('button')
            btn.style.color = 'white'
            btn.style.border = '1px solid #efefe2'
            btn.style.backgroundColor = 'transparent'
            btn.style.padding = '0.2rem 0.2rem'
            btn.style.borderRadius = '5px'
            btn.innerText = '内部按钮'
            btn.id = 'inner'
            // 插槽预留
            let head = document.createElement('slot')

            shadow.appendChild(style)
            shadow.appendChild(div)
            div.appendChild(name)
            div.appendChild(btn)
            div.appendChild(head)
        }
    }

    // 注册为组件
    customElements.define('hong-card', Card)

    document.getElementById('outer').addEventListener('click', e => {
        alert(e.target.innerText)
    })
</script>
</html>
